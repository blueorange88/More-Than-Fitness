<!-- 기존 <head> 섹션까지 유지됨 --></head>
<body>
  <div class="sidebar">
    <button>회원 관리</button>
    <button>스케줄 관리</button>
  </div>
  <div class="topbar">
    <h1>More Than Fitness</h1>
    <button class="logout-btn" onclick="logout()">로그아웃</button>
  </div>
  <div class="main">
    <div class="schedule">
      <h2 contenteditable="true">주간 시간표</h2>
      <table id="scheduleTable">
        <thead>
          <tr>
            <th>시간</th>
            <th>월</th>
            <th>화</th>
            <th>수</th>
            <th>목</th>
            <th>금</th>
            <th>토</th>
            <th>일</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </div>  <!-- 팝업 및 오버레이 -->  <div class="overlay" id="overlay"></div>
  <div class="popup-time" id="popupTime">
    <h3>세부 시간 선택</h3>
    <select id="minuteSelect">
      <option value="10">10분</option>
      <option value="20">20분</option>
      <option value="30">30분</option>
      <option value="40">40분</option>
      <option value="50">50분</option>
    </select>
    <button onclick="saveMinute()">저장</button>
    <button onclick="closePopup()">취소</button>
  </div>
  <div class="popup" id="popup">
    <h3>회차 및 이름 입력</h3>
    <input type="text" id="nameInput" placeholder="이름 입력">
    <button onclick="saveLesson()">저장</button>
    <button onclick="closePopup()">취소</button>
  </div>  <script>
    let currentCell = null;

    function logout() {
      alert("로그아웃되었습니다!");
      window.location.href = "/login.html";
    }

    // 시간표 생성
    const tbody = document.querySelector('#scheduleTable tbody');
    const startHour = 6;
    const endHour = 22;

    for (let h = startHour; h <= endHour; h++) {
      const row = document.createElement('tr');
      const timeCell = document.createElement('td');
      timeCell.textContent = `${h}:00`;
      timeCell.className = 'time-cell';
      timeCell.onclick = () => openTimePopup(timeCell);
      row.appendChild(timeCell);

      for (let i = 0; i < 7; i++) {
        const cell = document.createElement('td');
        cell.onclick = (e) => openPopup(e);
        row.appendChild(cell);
      }
      tbody.appendChild(row);
    }

    function openTimePopup(cell) {
      currentCell = cell;
      document.getElementById('popupTime').style.display = 'block';
      document.getElementById('overlay').style.display = 'block';
    }

    function saveMinute() {
      const minute = document.getElementById('minuteSelect').value;
      currentCell.textContent = `${currentCell.textContent.split(':')[0]}:${minute}`;
      closePopup();
    }

    function openPopup(e) {
      currentCell = e.target;
      document.getElementById('popup').style.display = 'block';
      document.getElementById('overlay').style.display = 'block';
    }

    function saveLesson() {
      const name = document.getElementById('nameInput').value;
      currentCell.textContent = `19/30 ${name}`;
      closePopup();
    }

    function closePopup() {
      document.getElementById('popup').style.display = 'none';
      document.getElementById('popupTime').style.display = 'none';
      document.getElementById('overlay').style.display = 'none';
      document.getElementById('nameInput').value = '';
    }
  </script></body>
</html>
