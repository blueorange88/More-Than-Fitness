<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>More Than Fitness · Dashboard</title>
<style>
  :root{
    --row-h:44px;
    --navy:#0d1b2a;
    --gold:#d4af37;
    --bg:#f5f0e8;
    --ink:#0d1b2a;
    --grid:#e5e7eb;
  }
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{
    display:flex;flex-direction:column;
    background:var(--bg);
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Apple SD Gothic Neo,Noto Sans KR,sans-serif;
    color:var(--ink);
    overflow:hidden
  }

  /* Topbar */
  .topbar{
    position:fixed;top:0;left:0;right:0;height:52px;
    background:var(--bg);
    display:flex;align-items:center;justify-content:space-between;
    padding:0 12px;
    box-shadow:0 2px 4px rgba(0,0,0,.08);
    z-index:1001
  }
  .topbar h1{
    font-size:18px;font-weight:900;color:var(--navy)
  }
  .hamburger,.logout-btn{
    background:none;border:1px solid #ddd;border-radius:8px;
    padding:6px 10px;cursor:pointer;font-size:13px
  }
  .goldBtn{
    background:var(--gold);color:var(--navy);
    border:none;border-radius:10px;padding:8px 12px;
    font-weight:800;cursor:pointer
  }

  /* Sidebar */
  .sidebar{
    position:fixed;top:52px;left:0;bottom:0;width:200px;
    background:var(--navy);color:#fff;padding:14px;
    transform:translateX(-100%);transition:transform .25s;z-index:1002
  }
  .sidebar.active{transform:translateX(0)}
  .sidebar button{
    display:block;background:none;border:none;color:#fff;width:100%;
    text-align:left;margin:8px 0;cursor:pointer;font-size:14px
  }
  .submenu button{color:#cbd5e1;padding-left:14px}

  /* Main */
  .main{margin-top:52px;flex:1;overflow:auto;padding:10px 10px 80px}

  .card{
    background:#fff;padding:14px;
    border-radius:12px;
    box-shadow:0 2px 8px rgba(0,0,0,.08);
    margin-bottom:14px
  }
  .section-title{
    font-weight:900;font-size:15px;
    margin:12px 0 8px;color:var(--navy);
    border-left:4px solid var(--gold);padding-left:6px
  }

  /* Schedule wrapper */
  .schedule-wrapper{
    background:#fff;padding:10px;
    border-radius:12px;
    border:1px solid #e5e7eb;
    box-shadow:0 2px 8px rgba(0,0,0,.08);
    margin-bottom:16px
  }

  /* Table */
  table{width:100%;table-layout:fixed;border-collapse:collapse;font-size:12px}
  thead th{
    position:sticky;top:0;
    background:var(--navy);color:#fff;z-index:1
  }
  th,td{border:1px solid var(--grid);text-align:center;vertical-align:top;position:relative}
  th{padding:6px;font-size:12px}
  td{padding:2px}
  .time-head,.time-cell{width:12vw;max-width:12vw}
  .time-cell{background:#f8fafc;white-space:nowrap}
  #scheduleTableCurr tbody td,#scheduleTableNext tbody td,#scheduleTableLast tbody td{height:var(--row-h)}

  /* Highlight + current line */
  .today-col{background:rgba(212,175,55,.12)}
  .current-time-line{position:absolute;left:0;right:0;height:2px;background:#FF3B30;animation:pulse 5s ease-in-out infinite}
  @keyframes pulse{0%,100%{opacity:.4}50%{opacity:1}}

  td.filled{color:#fff;font-weight:800}
  td.filled .label{display:block;padding:4px 2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

  /* Popups / overlay */
  .overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.45);z-index:1000}
  .popup{
    display:none;position:fixed;top:50%;left:50%;
    transform:translate(-50%,-50%);
    background:#fff;padding:16px;border-radius:12px;
    z-index:1001;width:340px;max-width:92%;max-height:84vh;overflow:auto
  }
  .popup h3{font-size:16px;margin-bottom:8px}
  .popup input,.popup select,.popup textarea{
    width:100%;padding:9px;border:1px solid #e5e7eb;border-radius:8px;margin:6px 0
  }
  .button-group{display:flex;gap:8px;margin-top:8px}
  .button-group button{
    flex:1;padding:10px;
    background:#f5f0e8;border:1px solid #ddd;border-radius:8px;cursor:pointer
  }
  .btn-primary{background:var(--navy)!important;color:#fff!important;border:none!important}

  /* Toast */
  #toast{
    position:fixed;top:58px;left:50%;transform:translateX(-50%);
    background:var(--navy);color:#fff;
    padding:8px 12px;border-radius:14px;opacity:0;
    transition:opacity .2s;z-index:1100;font-size:12px
  }

  @media (max-width:768px){
    th{font-size:11px} td{font-size:11px}
  }
</style>
</head>
<body>
  <!-- Top bar -->
  <div class="topbar">
    <button class="hamburger" id="hamburger">메뉴</button>
    <h1>More Than Fitness</h1>
    <div style="display:flex;gap:8px;align-items:center">
      <label style="display:flex;align-items:center;gap:6px;font-size:12px">
        <input type="checkbox" id="autoConsumeToggle"> 자동 소진
      </label>
      <button class="goldBtn" id="quickOpenBtn">+ 빠른 등록</button>
      <button class="logout-btn" id="btnLogout">로그아웃</button>
    </div>
  </div>

  <!-- Sidebar -->
  <div class="sidebar" id="sidebar">
    <button onclick="location.href='MTF-F.html'" style="font-weight:800;background:#222;border-radius:8px;padding:8px 10px">MORE THAN FITNESS</button>
    <button onclick="toggleSubmenu('member')" aria-expanded="false" aria-controls="submenu-member">회원 관리</button>
    <div id="submenu-member" class="submenu" style="display:none">
      <button onclick="location.href='/member-registration.html'">회원 신규 등록</button>
      <button onclick="location.href='/member-list-edit.html'">회원 확인/수정</button>
      <button onclick="location.href='personal-training-log.html'">고객 트레이닝 일지</button>
    </div>
    <button onclick="location.href='client-card.html'">고객 카드</button>
    <button onclick="location.href='#'">상품 구매</button>
    <button onclick="location.href='#'">운동 AI</button>
  </div>

  <!-- Main -->
  <div class="main" id="main">
    <div class="card">
      <div class="section-title">오늘 다음 레슨</div>
      <ul id="todayLessonList" style="padding-left:16px"></ul>
    </div>

    <div class="section-title">이번 주 레슨 일정</div>
    <div class="schedule-wrapper">
      <table id="scheduleTableCurr" data-wo="0" aria-label="이번 주 레슨 일정">
        <thead>
          <tr>
            <th id="headerCurr" class="time-head" title="클릭해 시간범위 설정">시간</th>
            <th>월</th><th>화</th><th>수</th><th>목</th><th>금</th><th>토</th><th>일</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <div class="section-title" id="titleNext" style="cursor:pointer">다음 주 레슨 일정 (클릭하여 열기/닫기)</div>
    <div class="schedule-wrapper" id="wrapNext" style="display:none">
      <table id="scheduleTableNext" data-wo="1" aria-label="다음 주 레슨 일정">
        <thead><tr><th class="time-head">시간</th><th>월</th><th>화</th><th>수</th><th>목</th><th>금</th><th>토</th><th>일</th></tr></thead>
        <tbody></tbody>
      </table>
    </div>

    <div class="section-title" id="titleLast" style="cursor:pointer">지난 주 레슨 일정 (클릭하여 열기/닫기)</div>
    <div class="schedule-wrapper" id="wrapLast" style="display:none">
      <table id="scheduleTableLast" data-wo="-1" aria-label="지난 주 레슨 일정">
        <thead><tr><th class="time-head">시간</th><th>월</th><th>화</th><th>수</th><th>목</th><th>금</th><th>토</th><th>일</th></tr></thead>
        <tbody></tbody>
      </table>
    </div>
  </div>

  <!-- Overlay -->
  <div class="overlay" id="popupOverlay"></div>
  <!-- 팝업, 퀵등록, 시트 등: 기존 코드와 동일 -->
  <!-- ... (기능 관련 스크립트 전체 유지) ... -->

  <div id="toast" role="status" aria-live="polite"></div>

  <!-- ===== 기존 스크립트 유지 (생략) ===== -->
  <script>
    /* 여기에 기존 dashboard.html 자바스크립트 로직 전체 붙여넣기 */
  </script>

  <script type="module" src="/mtf-widgets.js"></script>
</body>
</html>
